<html>
    <script>
        function arredondar (valor) {
            return Math.round(valor*100)/100
        }

        function calcular_juros (valor) {
            juros = arredondar(valor * 0.1)
            return juros
        }
        
        function calcular_rendimentos (valor) {
            rendimentos = arredondar(valor * 0.005)
            console.log(rendimentos)
            return rendimentos
        }

        function calular_saldo (mes, saldo_inicial, lancamentos) {
            console.log(mes)
            saldo = saldo_inicial
            for (lancamento of lancamentos) {
                if(lancamento.tipo === "receita") {
                    saldo += lancamento.valor
                }
                if (lancamento.tipo === "despesa") {
                saldo -= lancamento.valor
                }
            }
            esta_negativo = saldo < 0
            if (esta_negativo) {
                juros = calcular_juros(saldo)
                saldo = arredondar(saldo + juros)
            } 
            else {
                rendimentos = calcular_rendimentos(saldo)
                saldo = arredondar(saldo + rendimentos)
            }
            return saldo
        }       

        // Janeiro
        saldo_inicial = 0
        lancamentos_janeiro = [
            {categoria: "Salário", tipo: "receita", valor: 3000}, 
            {categoria: "Aluguel", tipo: "despesa", valor: 1000}, 
            {categoria: "Conta de Luz", tipo: "despesa", valor: 200}, 
            {categoria: "Conta de Água", tipo: "despesa", valor: 100}, 
            {categoria: "Internet", tipo: "despesa", valor: 100}, 
            {categoria: "Transporte", tipo: "despesa", valor: 300}, 
            {categoria: "Lazer", tipo: "despesa", valor: 300}, 
            {categoria: "Alimentação", tipo: "despesa", valor: 500}, 
            {categoria: "Condomínio", tipo: "despesa", valor: 300},
            {categoria: "Farmácia", tipo: "despesa", valor: 100}
        ]
        saldo1 = calular_saldo("Janeiro", saldo_inicial, lancamentos_janeiro)
        console.log(saldo1)

        // Fevereiro
        lancamentos_fevereiro = [
            {categoria: "Salário", tipo: "receita", valor: 3000}, 
            {categoria: "Aluguel", tipo: "despesa", valor: 1200},
            {categoria: "Conta de Luz", tipo: "despesa", valor: 250},
            {categoria: "Conta de Água", tipo: "despesa", valor: 100},
            {categoria: "Internet", tipo: "despesa", valor: 100},
            {categoria: "Transporte", tipo: "despesa", valor: 500},
            {categoria: "Lazer", tipo: "despesa", valor: 0},
            {categoria: "Alimentação", tipo: "despesa", valor: 1000},
            {categoria: "Condomínio", tipo: "despesa", valor: 400},
            {categoria: "Farmácia", tipo: "despesa", valor: 0}
        ]          
        saldo2 = calular_saldo("Fevereiro", saldo1, lancamentos_fevereiro)
        console.log(saldo2)     
        
        // Março
        lancamentos_marco = [
        {categoria: "Salário", tipo: "receita", valor: 4000}, 
        {categoria: "Aluguel", tipo: "despesa", valor: 1200}, 
        {categoria: "Conta de Luz", tipo: "despesa", valor: 200}, 
        {categoria: "Conta de Água", tipo: "despesa", valor: 100}, 
        {categoria: "Internet", tipo: "despesa", valor: 200}, 
        {categoria: "Transporte", tipo: "despesa", valor: 500}, 
        {categoria: "Lazer", tipo: "despesa", valor: 800}, 
        {categoria: "Alimentação", tipo: "despesa", valor: 1000}, 
        {categoria: "Condomínio", tipo: "despesa", valor: 400}, 
        {categoria: "Farmácia", tipo: "despesa", valor: 0}
    ]       
        saldo3 = calular_saldo("Março", saldo2, lancamentos_marco)
        console.log(saldo3)

        acumulado_ano = saldo3
        console.log("Ano")
        console.log(acumulado_ano)
    </script>
</html>